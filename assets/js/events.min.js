async function loadEvents(){var t=document.getElementById("events"),a=document.getElementById("events-grid"),n=document.getElementById("events-archive"),s=document.getElementById("archive-grid");if(t&&a){var t=e=>e.slice().sort((e,t)=>new Date(e.date)-new Date(t.date)),o=(e,c,i,t)=>{e&&0!==e.length?(c.innerHTML="",e.forEach(e=>{var t=new Date(e.date),t=isNaN(t)?e.date:t.toLocaleDateString("en-US",{month:"long",day:"numeric"}),a=document.createElement("div"),n=(a.className="col-md-4",document.createElement("div")),s=(n.className="card event-card h-100",document.createElement("img")),o=(s.loading="lazy",s.src=i+"/"+e.image,s.className="card-img-top",s.alt=e.title,document.createElement("div")),r=(o.className="card-body",document.createElement("h5")),e=(r.className="card-title",r.textContent=e.title,document.createElement("p"));e.className="card-text",e.textContent=t,o.appendChild(r),o.appendChild(e),n.appendChild(s),n.appendChild(o),a.appendChild(n),c.appendChild(a)})):c.innerHTML=`<p class="text-center w-100">${t}</p>`};let e=!1;try{var r,c=await fetch("assets/events/events.json");c.ok&&(r=await c.json(),Array.isArray(r))&&0<r.length&&(o(t(r),a,"assets/events","No upcoming events"),e=!0)}catch(e){console.warn("Could not load local events cache:",e)}if(!e)try{var i=await fetch("https://api.github.com/repos/arishboteco/boteco-website/contents/assets/events?ref=main");if(!i.ok)throw new Error("Network response was not ok");var l=(await i.json()).filter(e=>"file"===e.type&&/\.(png|jpe?g|webp)$/i.test(e.name));0===l.length?o([],a,"assets/events","No upcoming events"):o(t(l.map(e=>{var t,a,n,s=e.name.replace(/\.[^.]+$/,"").split("-");return!(s.length<4)&&([s,t,a,...n]=s,s)&&t&&a&&0!==n.length?{date:s+`-${t}-`+a,title:n.join(" ").replace(/_/g," "),image:e.name}:null}).filter(Boolean)),a,"assets/events","No upcoming events")}catch(e){console.error("Error loading events:",e),o([],a,"assets/events","No upcoming events")}if(n&&s)try{var d,m=await fetch("assets/events/archive/archive.json");m.ok&&(d=await m.json(),Array.isArray(d))&&0<d.length?o(t(d),s,"assets/events/archive","No past events"):n.style.display="none"}catch(e){n.style.display="none"}}}document.addEventListener("DOMContentLoaded",loadEvents);