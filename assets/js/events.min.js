async function loadEvents(){var t=document.getElementById("events"),a=document.getElementById("events-grid"),n=document.getElementById("events-archive"),s=document.getElementById("archive-grid");if(t&&a){var t=e=>e.slice().sort((e,t)=>new Date(e.date)-new Date(t.date)),o=(e,t,l,a)=>{if(e&&0!==e.length){t.innerHTML="";let r=document.createDocumentFragment();e.forEach(e=>{var t=new Date(e.date),t=isNaN(t)?e.date:t.toLocaleDateString("en-US",{month:"long",day:"numeric"}),a=document.createElement("div"),n=(a.className="col-md-4",document.createElement("div")),s=(n.className="card event-card h-100",document.createElement("img")),o=(s.loading="lazy",s.src=l+"/"+e.image,s.className="card-img-top",s.alt=e.title,document.createElement("div")),c=(o.className="card-body",document.createElement("h5")),e=(c.className="card-title",c.textContent=e.title,document.createElement("p"));e.className="card-text",e.textContent=t,o.appendChild(c),o.appendChild(e),n.appendChild(s),n.appendChild(o),a.appendChild(n),r.appendChild(a)}),t.appendChild(r)}else t.innerHTML=`<p class="text-center w-100">${a}</p>`};let e=!1;try{var c,r=await fetch("assets/events/events.json");r.ok&&(c=await r.json(),Array.isArray(c))&&0<c.length&&(o(t(c),a,"assets/events","No upcoming events"),e=!0)}catch(e){console.warn("Could not load local events cache:",e)}if(!e)try{var l=await fetch("https://api.github.com/repos/arishboteco/boteco-website/contents/assets/events?ref=main");if(!l.ok)throw new Error("Network response was not ok");var i=(await l.json()).filter(e=>"file"===e.type&&/\.(png|jpe?g|webp)$/i.test(e.name));0===i.length?o([],a,"assets/events","No upcoming events"):o(t(i.map(e=>{var t,a,n,s=e.name.replace(/\.[^.]+$/,"").split("-");return!(s.length<4)&&([s,t,a,...n]=s,s)&&t&&a&&0!==n.length?{date:s+`-${t}-`+a,title:n.join(" ").replace(/_/g," "),image:e.name}:null}).filter(Boolean)),a,"assets/events","No upcoming events")}catch(e){console.error("Error loading events:",e),o([],a,"assets/events","No upcoming events")}if(n&&s)try{var d,m=await fetch("assets/events/archive/archive.json");m.ok&&(d=await m.json(),Array.isArray(d))&&0<d.length?o(t(d),s,"assets/events/archive","No past events"):n.style.display="none"}catch(e){n.style.display="none"}}}document.addEventListener("DOMContentLoaded",loadEvents);