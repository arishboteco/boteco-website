function isValidUrl(e){try{var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}function sortByDate(e){return e.slice().sort((e,t)=>new Date(e.date)-new Date(t.date))}function renderEvents(e,t,s,n){if(e&&0!==e.length){t.innerHTML="";let i=document.createDocumentFragment();e.forEach(n=>{var e=new Date(n.date),e=isNaN(e)?n.date:e.toLocaleDateString("en-US",{month:"long",day:"numeric"}),t=document.createElement("div"),r=(t.className="col-md-4",document.createElement("div")),a=(r.className="card event-card h-100",document.createElement("img"));a.loading="lazy",a.src=s+"/"+n.image,a.className="card-img-top",a.alt=n.title;let o=a;isValidUrl(n.link)&&((d=document.createElement("a")).href=n.link,!1===n.embeddable?(d.target="_blank",d.rel="noopener"):d.addEventListener("click",e=>{var t=document.getElementById("eventLinkModal");"undefined"!=typeof bootstrap&&t&&(e.preventDefault(),(e=document.getElementById("eventLinkIframe"))&&(e.src="",e.setAttribute("data-src",n.link)),bootstrap.Modal.getOrCreateInstance(t).show())}),d.appendChild(a),o=d);(a=document.createElement("div")).className="card-body";var d=document.createElement("h5"),c=(d.className="card-title",d.textContent=n.title,document.createElement("p"));c.className="card-text",c.textContent=e,a.appendChild(d),a.appendChild(c),r.appendChild(o),r.appendChild(a),t.appendChild(r),i.appendChild(t)}),t.appendChild(i)}else t.innerHTML=`<p class="text-center w-100">${n}</p>`}async function fetchAndRenderEvents(e,t,n,r,a){try{var o,d=await fetch(e);d.ok&&(o=await d.json(),Array.isArray(o))&&0<o.length?renderEvents(sortByDate(o),t,r,a):n?n.style.display="none":renderEvents([],t,r,a)}catch(o){console.warn(`Could not load events from ${e}:`,o),n?n.style.display="none":renderEvents([],t,r,a)}}async function loadEvents(){var e=document.getElementById("events"),t=document.getElementById("events-grid"),n=document.getElementById("events-archive"),r=document.getElementById("archive-grid");e&&t&&(e=fetchAndRenderEvents("assets/events/events.json",t,null,"assets/events","No upcoming events"),t=n&&r?fetchAndRenderEvents("assets/events/archive/archive.json",r,n,"assets/events/archive","No past events"):Promise.resolve(),await Promise.all([e,t]))}document.addEventListener("DOMContentLoaded",loadEvents),((e,n,r)=>{var a;void 0===e.lightwidget&&(e.lightwidget={},a=null,e.addEventListener("message",function(e){var t;-1!==r.indexOf(e.origin.replace(/^https?:\/\//i,""))&&("lightwidget_lightbox"===(t="object"==typeof e.data?e.data:JSON.parse(e.data)).type&&null===a?((a=n.createElement("script")).src="https://cdn.lightwidget.com/widgets/lightwidget-lightbox.y.js".replace("y",t.version),n.body.appendChild(a)):t.size<=0||[].forEach.call(n.querySelectorAll('iframe[src*="lightwidget.com/widgets/x"],iframe[data-src*="lightwidget.com/widgets/x"],iframe[src*="instansive.com/widgets/x"]'.replace(/x/g,t.widgetId)),function(e){e.style.height=t.size+"px"}))},!1))})(window,document,["lightwidget.com","dev.lightwidget.com","cdn.lightwidget.com"]),document.addEventListener("DOMContentLoaded",()=>{let c=document.querySelector(".hero-video");if(c){let t=c.getAttribute("poster"),e=c.querySelectorAll("source"),n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,r=window.matchMedia("(prefers-reduced-data: reduce)").matches||navigator.connection&&navigator.connection.saveData,a,o,d=()=>{var e=document.createElement("img");e.src=t,e.alt="Boteco hero image",e.className="hero-video",c.replaceWith(e),c.removeEventListener("pause",a),c.removeEventListener("ended",a),document.removeEventListener("visibilitychange",o)};if(n||r)d();else{a=()=>{c.play().catch(d)},o=()=>{"visible"===document.visibilityState&&a()};let n=()=>{e.forEach(e=>{e.src=e.dataset.src}),c.addEventListener("error",d,{once:!0}),c.load(),a(),c.addEventListener("pause",a),c.addEventListener("ended",a),document.addEventListener("visibilitychange",o)};"IntersectionObserver"in window?new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(n(),t.disconnect())})}).observe(c):n()}}}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("shown.bs.modal",function(){var e=this.querySelector("iframe[data-src]");e&&!e.getAttribute("src")&&(e.src=e.getAttribute("data-src"))})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("iframe[data-src]").forEach(e=>{var t=e.getAttribute("data-src");t&&(e.src=t)})}),document.addEventListener("DOMContentLoaded",function(){let r=document.querySelector("nav.navbar");if(r){let t=!1,n=!1,e=document.createElement("div"),d=(e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="1px",e.style.pointerEvents="none",document.body.prepend(e),new IntersectionObserver(function(e){n=!e[0].isIntersecting,a()}).observe(e),document.addEventListener("mousemove",function(e){t=e.clientY<=80,a()}),document.getElementById("header-awards"));if(d){d.style.display="flex",d.style.gap="12px";let o="http://www.w3.org/2000/svg";[{href:"https://www.instagram.com/boteco_india/?hl=en",icon:"instagram",alt:"Instagram",color:"#FF0069"},{href:"https://www.facebook.com/BotecoIndiaa/",icon:"facebook",alt:"Facebook",color:"#0866FF"},{href:"https://www.zomato.com/bangalore/boteco-restaurante-brasileiro-1-mg-road-bangalore",icon:"zomato",alt:"Zomato",color:"#E23744"},{href:"https://share.google/NarMPlfSI9EkznbtY",icon:"googlemaps",alt:"Google Maps",color:"#4285F4"}].forEach(function(e){var t=document.createElement("a"),n=(t.href=e.href,t.target="_blank",t.rel="noopener",t.classList.add("social-icon",e.icon),t.style.setProperty("--hover-color",e.color),document.createElementNS(o,"svg")),r=document.createElementNS(o,"title"),a=(r.textContent=e.alt,document.createElementNS(o,"use"));a.setAttribute("href","assets/icons/sprite.svg#"+e.icon),n.appendChild(r),n.appendChild(a),t.appendChild(n),d.appendChild(t)})}function a(){n||t?r.classList.remove("navbar-hidden"):r.classList.add("navbar-hidden")}}}),document.addEventListener("DOMContentLoaded",function(){var t,e=document.querySelectorAll(".fade-in-section");0!==e.length&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches?e.forEach(function(e){e.classList.add("visible")}):(t=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1}),e.forEach(function(e){t.observe(e)})))}),document.addEventListener("DOMContentLoaded",()=>{let a=Array.from(document.querySelectorAll(".menus-section .menu-card img"));if(0!==a.length){let n=0,r=1/0;a.forEach(t=>{var e=()=>{var e=t.clientHeight||t.naturalHeight;0<e&&(r=Math.min(r,e)),++n===a.length&&isFinite(r)&&a.forEach(e=>{e.style.height=r+"px",e.style.objectFit="contain"})};t.complete?e():(t.addEventListener("load",e),t.addEventListener("error",e))})}}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal .carousel").forEach(t=>{let e=bootstrap.Carousel.getOrCreateInstance(t),n=t.querySelectorAll(".carousel-item"),r=n.length;let a=(d=t.closest(".modal")).querySelector(".image-counter");var o=d.querySelector(".prev-btn"),d=d.querySelector(".next-btn");function c(e){a&&(a.textContent=e+1+" / "+r)}var i=Array.from(n).indexOf(t.querySelector(".carousel-item.active"));c(0<=i?i:0),t.addEventListener("slid.bs.carousel",e=>{c(0<=(e="number"==typeof e.to?e.to:Array.from(n).indexOf(t.querySelector(".carousel-item.active")))?e:0)}),o&&o.addEventListener("click",()=>e.prev()),d&&d.addEventListener("click",()=>e.next())})}),document.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(prefers-reduced-motion: reduce)").matches||document.querySelectorAll('a[href^="#"]').forEach(e=>{let n=e.getAttribute("href");1<n.length&&!e.hasAttribute("data-bs-toggle")&&e.addEventListener("click",e=>{var t=document.querySelector(n);t&&(e.preventDefault(),t.scrollIntoView({behavior:"smooth"}))})})});