function isValidUrl(e){try{return new URL(e),!0}catch{return!1}}function sortByDate(e){return e.slice().sort((e,t)=>new Date(e.date)-new Date(t.date))}function renderEvents(e,t,s,n){if(e&&0!==e.length){t.innerHTML="";let i=document.createDocumentFragment();e.forEach(n=>{var e=new Date(n.date),e=isNaN(e)?n.date:e.toLocaleDateString("en-US",{month:"long",day:"numeric"}),t=document.createElement("div"),a=(t.className="col-md-4",document.createElement("div")),r=(a.className="card event-card h-100",document.createElement("img"));r.loading="lazy",r.src=s+"/"+n.image,r.className="card-img-top",r.alt=n.title;let o=r;isValidUrl(n.link)&&((c=document.createElement("a")).href=n.link,c.addEventListener("click",e=>{var t=document.getElementById("eventLinkModal");"undefined"!=typeof bootstrap&&t&&(e.preventDefault(),(e=document.getElementById("eventLinkIframe"))&&(e.src="",e.setAttribute("data-src",n.link)),bootstrap.Modal.getOrCreateInstance(t).show())}),c.appendChild(r),o=c);(r=document.createElement("div")).className="card-body";var c=document.createElement("h5"),d=(c.className="card-title",c.textContent=n.title,document.createElement("p"));d.className="card-text",d.textContent=e,r.appendChild(c),r.appendChild(d),a.appendChild(o),a.appendChild(r),t.appendChild(a),i.appendChild(t)}),t.appendChild(i)}else t.innerHTML=`<p class="text-center w-100">${n}</p>`}async function fetchAndRenderEvents(e,t,n,a,r){try{var o,c=await fetch(e);c.ok&&(o=await c.json(),Array.isArray(o))&&0<o.length?renderEvents(sortByDate(o),t,a,r):n?n.style.display="none":renderEvents([],t,a,r)}catch(o){console.warn(`Could not load events from ${e}:`,o),n?n.style.display="none":renderEvents([],t,a,r)}}async function loadEvents(){var e=document.getElementById("events"),t=document.getElementById("events-grid"),n=document.getElementById("events-archive"),a=document.getElementById("archive-grid");e&&t&&(e=fetchAndRenderEvents("assets/events/events.json",t,null,"assets/events","No upcoming events"),t=n&&a?fetchAndRenderEvents("assets/events/archive/archive.json",a,n,"assets/events/archive","No past events"):Promise.resolve(),await Promise.all([e,t]))}document.addEventListener("DOMContentLoaded",loadEvents),((e,n,a)=>{var r;void 0===e.lightwidget&&(e.lightwidget={},r=null,e.addEventListener("message",function(e){var t;-1!==a.indexOf(e.origin.replace(/^https?:\/\//i,""))&&("lightwidget_lightbox"===(t="object"==typeof e.data?e.data:JSON.parse(e.data)).type&&null===r?((r=n.createElement("script")).src="https://cdn.lightwidget.com/widgets/lightwidget-lightbox.y.js".replace("y",t.version),n.body.appendChild(r)):t.size<=0||[].forEach.call(n.querySelectorAll('iframe[src*="lightwidget.com/widgets/x"],iframe[data-src*="lightwidget.com/widgets/x"],iframe[src*="instansive.com/widgets/x"]'.replace(/x/g,t.widgetId)),function(e){e.style.height=t.size+"px"}))},!1))})(window,document,["lightwidget.com","dev.lightwidget.com","cdn.lightwidget.com"]),document.addEventListener("DOMContentLoaded",()=>{let o=document.querySelector(".hero-video");if(o){let t=o.getAttribute("poster"),e=o.querySelectorAll("source"),n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,a=window.matchMedia("(prefers-reduced-data: reduce)").matches||navigator.connection&&navigator.connection.saveData,r=()=>{var e=document.createElement("img");e.src=t,e.alt="Boteco hero image",e.className="hero-video",o.replaceWith(e)};if(n||a)r();else{let n=()=>{e.forEach(e=>{e.src=e.dataset.src}),o.addEventListener("error",r,{once:!0}),o.load(),o.play().catch(()=>{})};"IntersectionObserver"in window?new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(n(),t.disconnect())})}).observe(o):n()}}}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("shown.bs.modal",function(){var e=this.querySelector("iframe[data-src]");e&&!e.src&&(e.src=e.getAttribute("data-src"))})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("iframe[data-src]").forEach(e=>{var t=e.getAttribute("data-src");t&&(e.src=t)})}),document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector("nav.navbar");if(a){let t=!1,n=!1,e=document.createElement("div"),c=(e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="1px",e.style.pointerEvents="none",document.body.prepend(e),new IntersectionObserver(function(e){n=!e[0].isIntersecting,r()}).observe(e),document.addEventListener("mousemove",function(e){t=e.clientY<=80,r()}),document.getElementById("header-awards"));if(c){c.style.display="flex",c.style.gap="12px";let o="http://www.w3.org/2000/svg";[{href:"https://www.instagram.com/boteco_india/?hl=en",icon:"instagram",alt:"Instagram",color:"#FF0069"},{href:"https://www.facebook.com/BotecoIndiaa/",icon:"facebook",alt:"Facebook",color:"#0866FF"},{href:"https://www.zomato.com/bangalore/boteco-restaurante-brasileiro-1-mg-road-bangalore",icon:"zomato",alt:"Zomato",color:"#E23744"},{href:"https://share.google/NarMPlfSI9EkznbtY",icon:"googlemaps",alt:"Google Maps",color:"#4285F4"}].forEach(function(e){var t=document.createElement("a"),n=(t.href=e.href,t.target="_blank",t.rel="noopener",t.classList.add("social-icon",e.icon),t.style.setProperty("--hover-color",e.color),document.createElementNS(o,"svg")),a=document.createElementNS(o,"title"),r=(a.textContent=e.alt,document.createElementNS(o,"use"));r.setAttribute("href","assets/icons/sprite.svg#"+e.icon),n.appendChild(a),n.appendChild(r),t.appendChild(n),c.appendChild(t)})}function r(){n||t?a.classList.remove("navbar-hidden"):a.classList.add("navbar-hidden")}}}),document.addEventListener("DOMContentLoaded",function(){var t,e=document.querySelectorAll(".fade-in-section");0!==e.length&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches?e.forEach(function(e){e.classList.add("visible")}):(t=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1}),e.forEach(function(e){t.observe(e)})))}),document.addEventListener("DOMContentLoaded",()=>{let r=Array.from(document.querySelectorAll(".menus-section .menu-card img"));if(0!==r.length){let n=0,a=1/0;r.forEach(t=>{var e=()=>{var e=t.clientHeight||t.naturalHeight;0<e&&(a=Math.min(a,e)),++n===r.length&&isFinite(a)&&r.forEach(e=>{e.style.height=a+"px",e.style.objectFit="contain"})};t.complete?e():(t.addEventListener("load",e),t.addEventListener("error",e))})}}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal .carousel").forEach(t=>{let e=bootstrap.Carousel.getOrCreateInstance(t),n=t.querySelectorAll(".carousel-item"),a=n.length;let r=(c=t.closest(".modal")).querySelector(".image-counter");var o=c.querySelector(".prev-btn"),c=c.querySelector(".next-btn");function d(e){r&&(r.textContent=e+1+" / "+a)}var i=Array.from(n).indexOf(t.querySelector(".carousel-item.active"));d(0<=i?i:0),t.addEventListener("slid.bs.carousel",e=>{d(0<=(e="number"==typeof e.to?e.to:Array.from(n).indexOf(t.querySelector(".carousel-item.active")))?e:0)}),o&&o.addEventListener("click",()=>e.prev()),c&&c.addEventListener("click",()=>e.next())})});