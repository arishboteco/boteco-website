document.addEventListener("DOMContentLoaded",()=>{let a=document.querySelector(".hero-video");if(a){let t=a.getAttribute("poster"),e=a.querySelectorAll("source");var n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,c=window.matchMedia("(prefers-reduced-data: reduce)").matches||navigator.connection&&navigator.connection.saveData;let r,i,o=()=>{var e=document.createElement("img");e.src=t,e.alt="Boteco hero image",e.className="hero-video",a.replaceWith(e),a.removeEventListener("pause",r),a.removeEventListener("ended",r),document.removeEventListener("visibilitychange",i)};if(n||c)o();else{r=()=>{a.play().catch(o)},i=()=>{"visible"===document.visibilityState&&r()};let n=()=>{e.forEach(e=>{e.src=e.dataset.src}),a.addEventListener("error",o,{once:!0}),a.load(),r(),a.addEventListener("pause",r),a.addEventListener("ended",r),document.addEventListener("visibilitychange",i)};"IntersectionObserver"in window?new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(n(),t.disconnect())})}).observe(a):n()}}});